[TOC]



## 1.知识点

## 1.1 内存相关

### 1.1.1 **JVM分为哪些区，每一个区干吗的？**

1. 方法区(method)：被所有的线程共享。方法区包含所有的类信息和静态变量。
2. 堆(heap)：被所有的线程共享，存放对象实例以及数组，Java堆是GC的主要区域。
3. 栈(stack)：每个线程包含一个栈区，栈中保存一些局部变量等。
4. 程序计数器：是当前线程执行的字节码的行指示器。

### 1.3 **JVM新生代，老年代，持久代，都存储哪些东西？**

持久代主要存放的是Java类的类信息，与垃圾收集要收集的Java对象关系不大。所有新生成的对象首先都是放在年轻代的，年老代中存放的都是一些生命周期较长的对象。

### 1.1.1 堆内存设置的参数是什么？

```
-Xms 设置堆的最小空间大小
-Xmx 设置堆的最大空间大小
```

JVM各参数名称及配置：

```
-Xms ：初始推大小、一般物理内存的1/64(<1GB)
-Xmx: 最大推大小、物理内存的1/4(<1GB)
-Xmn: 年轻代大小(1.4or lator)
-XX:NewSize 设置年轻代大小
-XX:MaxNewSize 年轻代最大值
-XX:PermSize 设置持久代(perm gen)初始值
-XX:MaxPermSize 设置持久代最大值
-Xss 每个线程的堆栈大小
```

### 1.1.2 Java中的堆和栈的区别

栈(操作系统)：有系统自动分配释放、存放函数、局部变量的值等，分配的内存大小在jvm机加载的时候已经开辟了空间，栈的默认空间是2M,如果超出这个大小，就会内存溢出异常。

堆(操作系统):一般有程序员分配释放、若不释放，程序结束时由系统自动回收，类似于new 一个对象会分配空间，大小无法确定，类似链表结构。

区别：栈速度快，灵活性小，堆速度慢，灵活度大。

栈：都是存储局部变量，推：存储的都是对象



## 1.2 类加载

### 1.1.1  **JVM如何加载一个类的过程，双亲委派模型中有哪些方法**

类加载过程：加载、验证（验证阶段作用是保证Class文件的字节流包含的信息符合JVM规范，不会给JVM造成危害）、准备（准备阶段为变量分配内存并设置类变量的初始化）、解析（解析过程是将常量池内的符号引用替换成直接引用）、初始化。

双亲委派模型中方法：双亲委派是指如果一个类收到了类加载的请求，不会自己先尝试加载，先找父类加载器去完成。当顶层启动类加载器表示无法加载这个类的时候，子类才会尝试自己去加载。当回到最开的发起者加载器还无法加载时，并不会向下找，而是抛出ClassNotFound异常。

方法：启动（Bootstrap）类加载器，标准扩展（Extension）类加载器，应用程序类加载器（Application ），上下文(Custom)类加载器。意义是防止内存中出现多份同样的字节码 









194.说一下 jvm 的主要组成部分？及其作用？

195.说一下 jvm 运行时数据区？

196.说一下堆栈的区别？

197.队列和栈是什么？有什么区别？

198.什么是双亲委派模型？

199.说一下类加载的执行过程？

200.怎么判断对象是否可以被回收？

201.java 中都有哪些引用类型？

202.说一下 jvm 有哪些垃圾回收算法？

203.说一下 jvm 有哪些垃圾回收器？

204.详细介绍一下 CMS 垃圾回收器？

205.新生代垃圾回收器和老生代垃圾回收器都有哪些？有什么区别？

206.简述分代垃圾回收器是怎么工作的？

207.说一下 jvm 调优的工具？

208.常用的 jvm 调优的参数都有哪些？

