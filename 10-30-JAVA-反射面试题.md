[TOC]



### 1.知识点

### 1.1 什么是反射？

是在运行状态中，对于任意的一个类，都能够知道这个类的所有属性和方法，对任意一个对象都能够通过反射机制调用一个类的任意方法，这种动态获取类信息及动态调用类对象方法的功能称为java的反射机制。

反射的作用：

1. 动态地创建类的实例，将类绑定到现有的对象中，或从现有的对象中获取类型。
2. 应用程序需要在运行时从某个特定的程序集中载入一个特定的类

### 1.1.2 说说你对Java反射的理解？

在运行状态中，对任意一个类，都能知道这个类的所有属性和方法，对任意一个对象，都能调用它的任意一个方法和属性。这种能动态获取信息及动态调用对象方法的功能称为java语言的反射机制。

##### 反射的作用：

开发过程中，经常会遇到某个类的某个成员变量、方法或属性是私有的，或只对系统应用开放，这里就可以利用java的反射机制通过反射来获取所需的私有成员或是方法。

1. 获取类的Class对象实例 `Class clz = Class.forName("com.zhenai.api.Apple");`
2. 根据Class对象实例获取Constructor对象 `Constructor appConstructor = clz.getConstructor();
   `
3.  使用Constructor对象的`newInstance`方法获取反射类对象 `Object appleObj = appConstructor.newInstance();
   `
4.  获取方法的Method对象 `Method setPriceMethod = clz.getMethod("setPrice", int.class);
   `
5.  利用invoke方法调用方法` setPriceMethod.invoke(appleObj, 14);`
6.  通过getFields()可以获取Class类的属性，但无法获取私有属性，而getDeclaredFields()可以获取到包括私有属性在内的所有属性。带有Declared修饰的方法可以反射到私有的方法，没有Declared修饰的只能用来反射公有的方法，其他如AnnotationFieldConstructor也是如此。

#### 1.2 反射的原理，反射创建类实例的三种方式是什么？



#### 1.3 反射中，Class.forName和ClassLoader区别 ？



#### 1.4 描述动态代理的几种实现方式，分别说出相应的优缺点？



#### 1.5 动态代理与cglib实现的区别？



#### 1.6 为什么CGlib方式可以对接口实现代理？

### 1.1.6 静态代理和动态代理的区别，什么场景使用？

代理是一种常用的设计模式，

##### 目的是：

为其他对象提供一个代理以控制对某个对象的访问，将两个类的关系解耦。代理类和委托类都要实现相同的接口，因为代理真正调用的是委托类的方法。

##### 区别：

1）静态代理：
由程序员创建或是由特定工具生成，在代码编译时就确定了被代理的类是哪一个是静态代理。静态代理通常只代理一个类；

2）动态代理：
在代码运行期间，运用反射机制动态创建生成。动态代理代理的是一个接口下的多个实现类；

##### 实现步骤：

a.实现InvocationHandler接口创建自己的调用处理器；
b.给Proxy类提供ClassLoader和代理接口类型数组创建动态代理类；
c.利用反射机制得到动态代理类的构造函数；
d.利用动态代理类的构造函数创建动态代理类对象；

##### 使用场景：

Retrofit中直接调用接口的方法；Spring的AOP机制；



#### 1.7 final的用途？







57.什么是反射？

58.什么是 java 序列化？什么情况下需要序列化？

59.动态代理是什么？有哪些应用？

60.怎么实现动态代理？